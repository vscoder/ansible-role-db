language: python
python:
  - "3.6"
install:
  - pip install ansible==2.8.6 molecule[gce] apache-libcloud
before_script:
  - tar xvf secrets.tar
script:
  - ls -la
  - echo ANSIBLE_PRIVATE_KEY_FILE="$ANSIBLE_PRIVATE_KEY_FILE"
  - echo GCE_CREDENTIALS_FILE=="$GCE_CREDENTIALS_FILE"
  - molecule --debug test --scenario-name gce
after_script:
  - molecule destroy --scenario-name gce
before_install:
  - openssl aes-256-cbc -K $encrypted_7b81dd4d66f3_key -iv $encrypted_7b81dd4d66f3_iv
    -in secrets.tar.enc -out secrets.tar -d
env:
  global:
    - secure: f9bG3KlCoTwzWRhlkR9YvHI6+YDbhu7D2xYD4LnZyOPfccLR43a/TVyh8cL+sukJph4pONh5Aizsy22PX/oBQooi89PhBuXO+GD8x74cjfgwcBand1uv2AnyrAde0bYYp6KPJCcA7hZXsbUN8Q61n2E9+NtRxEPECVpzw9LLUsbxIZAvZuchuTDa7eYi2wVvGWcfgJ/qmanL855a8Z0wYhwDaSSK+L/hNCBbevbZBIjgGy11Cbps4VXS8Zs1iEV2B2Iyr1t7SRRnPLrQII55pUS13kN374VrhcV9mVK0HhSzuGpbMmYbIeDpGF4GkygT43dnDH/w0SVjx0p8sPHR4MtadrVUEHt8qf9+851C15ThWfzBOVFRnSWwKDk3QTy5nSiFtVKVMPoEK8YPDkJHZ8/B9GA6NtokZLbM0oGk6ygmfq6nFhzm2Sc6mLXntTA7EOww6hkDmJtdru0wZqN08809sJVM/VpZxREvE+GdgoE0Vur5MsNixHaGdzF2eI4g4aeZDHjGbrTHNoSi2MvFpkI8O/SI0OdJmTPv/Fmarq3CIeo3NZGwnE+NYAA7AT+zRvZu8gmgbI+fyLVu+xQ/rUWd5UjVkvPF+tD+TOEux5Rz05MAlNYmiiLOP58zjSlk+vtdO/mTEGeXzhbeJtCti7UdeuINrD8BD1+ppYEr484=
    - secure: bP8Cl3YJJjQW8AAZXIjRX+46cdWGw50/n3rYQaa4FyCnj2D6h+T+/z0VEwnNoxStR9VB7GEDGGS3xcwKc+8mwz1o29Bcy1Z7wh7++zPBuYQsCKrRTeV6InGM3NmuHu2AS/fUNNrN0ydP/YM9a9u9429FOr5e/n6XHI8mAGqigET2wGMGXqtSz5VNSACaebwn+yWfs/Fi+wl3GzAI5nOW3dynSD6t+orNzgST6BdkfLe3gwxm51Ae+2XxtAJA95sH69L9KvWyOHGAKF2qe2FDwKnMdV4SuY1hf1Lk2E7R0+5QREsMlczJqlxWUZJbTAaxztZjN9TFWrJ3dQUA3IZqJ+4VTdYisY4M5IUJ52pStsFxMYMVEd5nG9Nimgviabnzla1BxTo5JesIJb8H5kYTqJAFUSknqCOr7HxX7Fcg5DG6qEh1WaxjUbcjofEOTDiW6Mz3DznimviQjXQKQpUR/qAq3+FMTNCf0dxC/VP+7c/2tqJezJzAMMIJ3ozfbVcejWBLs8+MGVU6FCu6zS4DEw4g6euUxT6wGnmIA19YKHS9ZEaDiqOu4efmhUK6GDQ2nRw9cgxnsSFhb+/YOnlFD6zZKrIPGvcEtdF8WQt8hh3RdGwYS9Qq6Be+juwiFkOAXVuCEAr/hAFKYHsm05ZL5ITViV+WwLUVYmXAaZZmojI=
    - secure: WqKhNIGidswF0P87ft4nn2X3uvVGR+u0TpGbNXvrZdZCWx/W1B2aHKpUVZtcZ4+RoPUEWqAqPZBvIFL9k9wrbCczuhrtg6qSYMutpdVh2Yq04MFi6mLB971t6AaOVR8S1iYuz8j87AIqXgpfBTeBn2Vhcd0CB1CqUpXrydVKNl3gVR8ihPdLvVQZvNIT1NxgUvHVf4m9IMKLvWCKpKN/TrS/qQoOjNnAcLKwew+Xl22XXr5l6Cx5lgZSoKuA3kOZP0FqLftqMvuZJhcRCPMfI6Fw40BwE/Skw8222OOne3QhXMCzIod+3k2OcsgbP/ehPYyd7jbZEacG+AgIeqHazTWnoqEMA0ZslG8kHcSxhNE2ZEnPB9K3yPdHJ1jFIaPUUMl6pn1efs1NcHjg9/1SyLLoXQT4e6rM2Co/DN/6s0bFYrgRV4unD2nLiQ5ciHygmyOhbp9vgS4jcvPCZQRqxoafE6DXCvefLVHFWYG9GoWVQ1EtMi8rS+eZpStAXSOl2pZ+vvQiGM/MRrUxn5XWx/CBkqu5jLbj0FbBgOA+uE0x98evCVjgtXqCeq7iDbFWYMRZQCLBOZzlWJTQIUVxvqIqjXa/x1/TqDmzopJnNl8mStcOyfds1Z9wZZBpCxetQM0Ss74r5zFOURsX64yZ3Js/JOlVzHQgbf0jVqwli/0=
    - secure: EDsBTz3K7cHdrxKnkS27XyZlIFyLWmeffHM5jumMOuuNefUO9UpH6lZZ8aRPl1akyUtJIcWRSdvqJY46LvBE0nt30WWed8lagnm25GwsCmG+FTa88DI+Qovooc7ksoJpojsXWeXaTak3kJbVNnX8+b0s7+7Z6vfVfgSXqJDZi+rpJQ/km8Z0qCVgzM0ZBgkS/a4Vxz351BSJy+nHJttn9B7yHOYQMMcn5CENCL406atWd/0TiHxDtVIDx/vYn47vzFLOl6XOc9+/feW52OYyBaHSOmqF3pKFDBgHFFPgxAr5yCHDipq99IEQEbNbl3iP1zx0r8HxaMmhuh79pBdssBjeiYwB5noCFEaXLJ5JaizHFdIw3cATXJp7ltjFRo6iZRBrN0NJpEa6CZwCVEY20laYJfDVkI85hlHdTV7m1FUD3EulGazAuKoeRqm21KuGgh1p8oxezGk+Jsy3neEtwazetWJ6tXHR/hwLK+lnzPhhFzlzNdnABUJtYH7HbzSf5ZWq+nnrs1vp1KGd+UijBxmcVS9jBSPJQfKGhZqXLRLsJR/ebxFCX26q9PB4L9Q/SNGbELEqZ6H2z3hMCoReyhmDA47OqZIMJY/Rct5iao23g8vADf6s1GTcj7exHEG6DA0ZMcDM3kFxhNjaEeueJC1vkZowZEcsh2oRRrJnImQ=
